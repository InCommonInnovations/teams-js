import{media as e}from"../public/media.js";import{videoAndImageMediaAPISupportVersion as n,nonFullScreenVideoModeAPISupportVersion as t,imageOutputFormatsAPISupportVersion as r}from"./constants.js";import{throwExceptionIfMobileApiIsNotSupported as l}from"./internalAPIs.js";function i(e,n){if(null==e||null==n||e.length<=0)return null;let t=null,r=1;return e.sort(((e,n)=>e.sequence>n.sequence?1:-1)),e.forEach((e=>{e.sequence==r&&(t=t?new Blob([t,e.file],{type:n}):new Blob([e.file],{type:n}),r++)})),t}function o(e,n){if(null==e||null==n)return null;const t=atob(e.chunk),r=new Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);const l=new Uint8Array(r),i=new Blob([l],{type:n});return{sequence:e.chunkSequence,file:i}}function u(e){f(e)?l(n):p(e)?l(t):d(e)&&l(r)}function a(n){return!(n.mediaType!=e.MediaType.Video||!n.videoProps||!n.videoProps.videoController)}function c(e){return!(null==e||e.maxMediaCount>10)}function d(n){var t;return!((null==n?void 0:n.mediaType)!=e.MediaType.Image||!(null===(t=null==n?void 0:n.imageProps)||void 0===t?void 0:t.imageOutputFormats))}function f(n){return!(!n||n.mediaType!=e.MediaType.VideoAndImage&&!n.videoAndImageProps)}function p(n){return!(!n||n.mediaType!=e.MediaType.Video||!n.videoProps||n.videoProps.isFullScreenMode)}function s(n,t,r){return null!=n&&null!=t&&t==e.FileFormat.ID&&null!=r}function m(e){return!(null==e||e.length<=0||e.length>10)}function y(e){return!e||!(null===e.timeOutIntervalInSec||null!=e.timeOutIntervalInSec&&e.timeOutIntervalInSec<=0||null!=e.timeOutIntervalInSec&&e.timeOutIntervalInSec>60)}function I(e){if(e){if(e.title&&"string"!=typeof e.title)return!1;if(e.setSelected&&"object"!=typeof e.setSelected)return!1;if(e.openOrgWideSearchInChatOrChannel&&"boolean"!=typeof e.openOrgWideSearchInChatOrChannel)return!1;if(e.singleSelect&&"boolean"!=typeof e.singleSelect)return!1}return!0}export{i as createFile,o as decodeAttachment,d as isMediaCallForImageOutputFormats,p as isMediaCallForNonFullScreenVideoMode,f as isMediaCallForVideoAndImageInputs,a as isVideoControllerRegistered,u as throwExceptionIfMediaCallIsNotSupportedOnMobile,s as validateGetMediaInputs,I as validatePeoplePickerInput,y as validateScanBarCodeInput,c as validateSelectMediaInputs,m as validateViewImagesInput};
