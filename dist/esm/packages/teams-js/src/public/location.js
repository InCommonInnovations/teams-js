import{sendMessageToParent as o}from"../internal/communication.js";import{locationAPIsRequiredVersion as t}from"../internal/constants.js";import{ensureInitialized as n,isCurrentSDKVersionAtLeast as r}from"../internal/internalAPIs.js";import{getApiVersionTag as i}from"../internal/telemetry.js";import{FrameContexts as a,errorNotSupportedOnPlatform as e}from"./constants.js";import{ErrorCode as c}from"./interfaces.js";import{runtime as s}from"./runtime.js";var l;!function(l){function f(){return!(!n(s)||!s.supports.location)}l.getLocation=function(l,m){if(!m)throw new Error("[location.getLocation] Callback cannot be null");if(n(s,a.content,a.task),!r(t))throw{errorCode:c.OLD_PLATFORM};if(!l)throw{errorCode:c.INVALID_ARGUMENTS};if(!f())throw e;o(i("v1","location.getLocation"),"location.getLocation",[l],m)},l.showLocation=function(l,m){if(!m)throw new Error("[location.showLocation] Callback cannot be null");if(n(s,a.content,a.task),!r(t))throw{errorCode:c.OLD_PLATFORM};if(!l)throw{errorCode:c.INVALID_ARGUMENTS};if(!f())throw e;o(i("v1","location.showLocation"),"location.showLocation",[l],m)},l.isSupported=f}(l||(l={}));export{l as location};
