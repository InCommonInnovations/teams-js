import{sendAndHandleSdkError as e}from"../internal/communication.js";import{ensureInitialized as t}from"../internal/internalAPIs.js";import{getApiVersionTag as o}from"../internal/telemetry.js";import{FrameContexts as n,errorNotSupportedOnPlatform as r}from"./constants.js";import{runtime as i}from"./runtime.js";var s;!function(s){var p;function a(){return!(!t(i)||!i.supports.stageView)}(p=s.StageViewOpenMode||(s.StageViewOpenMode={})).modal="modal",p.popout="popout",p.popoutWithChat="popoutWithChat",s.open=function(s){return new Promise((p=>{if(t(i,n.content),!a())throw r;if(!s)throw new Error("[stageView.open] Stage view params cannot be null");p(e(o("v2","stageView.open"),"stageView.open",s))}))},s.isSupported=a,function(s){function p(){var e;return t(i)&&void 0!==(null===(e=i.supports.stageView)||void 0===e?void 0:e.self)}s.close=function(){return new Promise((s=>{if(t(i,n.content),!p())throw r;s(e(o("v2","stageView.self.close"),"stageView.self.close"))}))},s.isSupported=p}(s.self||(s.self={}))}(s||(s={}));export{s as stageView};
